
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Arkalos is an easy-to-use framework for data analysis, building data apps, warehouses, AI agents, ML, and training LLMs with elegant syntax. It just works.">
      
      
        <meta name="author" content="Mev-Rael">
      
      
        <link rel="canonical" href="https://arkalos.com/docs/web-crawler/">
      
      
        <link rel="prev" href="../browser/">
      
      
        <link rel="next" href="../con-google/">
      
      
      <link rel="icon" href="../../assets/img/arkalos-logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.2">
    
    
  
    <title>Python Crawler & Scraper - Arkalos - The Python Framework for AI & Data Artisans</title>
  

    
      <link rel="stylesheet" href="../../assets/stylesheets/main.d7758b05.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=ui-sans-serif,+system-ui,+sans-serif:300,300i,400,400i,700,700i%7CConsolas,+'Courier+New',+monospace:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"ui-sans-serif, system-ui, sans-serif";--md-code-font:"Consolas, 'Courier New', monospace"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/css/extra.css">
    
      <link rel="stylesheet" href="../../assets/css/extra_sidebar.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#python-web-extractor-scraper-crawler" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!--
  Copyright (c) 2016-2025 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine classes -->


  


<!-- Header -->
<header class="md-header md-header--shadow" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="Header"
  >

    <!-- Link to home -->
    <a
      href="../.."
      title="Arkalos"
      class="md-header__button md-logo"
      aria-label="Arkalos"
      data-md-component="logo"
    >
      
  <img src="../../assets/img/arkalos-logo.png" alt="logo">

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Arkalos
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Python Crawler & Scraper
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette toggle -->
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z"/></svg>
      </label>
    
  
</form>
      
    

    <!-- User preference: color palette -->
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>

      <!-- Search interface -->
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
      <div class="md-header__source">
        <a href="https://github.com/arkaloscom/arkalos/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Arkalos" class="md-nav__button md-logo" aria-label="Arkalos" data-md-component="logo">
      
  <img src="../../assets/img/arkalos-logo.png" alt="logo">

    </a>
    Arkalos
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/arkaloscom/arkalos/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contact & Community
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../legal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Legal & License
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appreciations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Appreciations
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Project Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../new-project/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    New Python & VS Code Project
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Folder Structure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Configuration & Env
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Writing Basic Code
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Writing Basic Code
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    First Python Code & Notebook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scripts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Scripts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../app/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python App & Modules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../teamwork/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Working as a Team
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workflows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workflows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../logs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Logs & Debugging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../registry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Registry & Bootstrapping
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data Extractors
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Data Extractors
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../browser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Browser Automation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Python Crawler & Scraper
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Python Crawler & Scraper
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#crawling-a-website-saving-web-pages-in-markdown" class="md-nav__link">
    <span class="md-ellipsis">
      🕸️ Crawling a Website: Saving Web Pages in Markdown
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scraping-specific-pages-only" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 Scraping Specific Pages Only
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extracting-specific-details-from-pages" class="md-nav__link">
    <span class="md-ellipsis">
      🔍 Extracting Specific Details From Pages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🔍 Extracting Specific Details From Pages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-define-what-data-to-extract" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Define what data to extract
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-create-a-webdetails-class" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Create a WebDetails class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-create-your-custom-extractor" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Create your custom extractor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-run-your-crawler" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Run your crawler
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webdetails-and-annotations" class="md-nav__link">
    <span class="md-ellipsis">
      🧩 WebDetails and Annotations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webextractor-constants" class="md-nav__link">
    <span class="md-ellipsis">
      🧱 WebExtractor Constants
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scraping-json-data-from-web-pages" class="md-nav__link">
    <span class="md-ellipsis">
      📦 Scraping JSON Data From Web Pages
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-raw-html-or-a-parsed-html-document" class="md-nav__link">
    <span class="md-ellipsis">
      🧾 Get Raw HTML or a Parsed HTML Document
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../con-google/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Google Drive, GA4, GSC
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    AI Models & Agents
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            AI Models & Agents
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ai-actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AI Actions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ai-agents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AI Agents
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ai-models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Training a Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ai-eval/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluating a Model
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Working With Data
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Working With Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-analyzers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Analyzers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-visualizers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Visualizers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-transformers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Transformers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-warehouse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Warehouse
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#crawling-a-website-saving-web-pages-in-markdown" class="md-nav__link">
    <span class="md-ellipsis">
      🕸️ Crawling a Website: Saving Web Pages in Markdown
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scraping-specific-pages-only" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 Scraping Specific Pages Only
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extracting-specific-details-from-pages" class="md-nav__link">
    <span class="md-ellipsis">
      🔍 Extracting Specific Details From Pages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🔍 Extracting Specific Details From Pages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-define-what-data-to-extract" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Define what data to extract
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-create-a-webdetails-class" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Create a WebDetails class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-create-your-custom-extractor" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Create your custom extractor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-run-your-crawler" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Run your crawler
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webdetails-and-annotations" class="md-nav__link">
    <span class="md-ellipsis">
      🧩 WebDetails and Annotations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#webextractor-constants" class="md-nav__link">
    <span class="md-ellipsis">
      🧱 WebExtractor Constants
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scraping-json-data-from-web-pages" class="md-nav__link">
    <span class="md-ellipsis">
      📦 Scraping JSON Data From Web Pages
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-raw-html-or-a-parsed-html-document" class="md-nav__link">
    <span class="md-ellipsis">
      🧾 Get Raw HTML or a Parsed HTML Document
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="python-web-extractor-scraper-crawler">Python Web Extractor, Scraper &amp; Crawler</h1>
<p>Before you start, make sure the <a href="/docs/browser/">browser is configured properly</a>.</p>
<p>Arkalos includes a powerful built-in <strong>WebExtractor</strong> tool that allows you to automate the process of gathering data from websites, whether it's downloading full articles, scraping specific information, or crawling multiple pages linked from a start page.</p>
<ul>
<li><strong>Crawling</strong> means starting from a base URL and automatically following internal links to extract data from every page it finds.</li>
<li><strong>Scraping</strong> means extracting specific data (like a title or price) from a specific page or part of a page.</li>
</ul>
<h2 id="crawling-a-website-saving-web-pages-in-markdown">🕸️ Crawling a Website: Saving Web Pages in Markdown</h2>
<p>Want to download a website’s content for offline reading or AI training? Here's how to crawl the Arkalos documentation and save each page in Markdown format:</p>
<div class="language-python highlight"><span class="filename">notebooks/web_extractor.ipynb</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">arkalos.data.extractors</span><span class="w"> </span><span class="kn">import</span> <span class="n">WebExtractor</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">arkalos</span> <span class="o">=</span> <span class="n">WebExtractor</span><span class="p">(</span><span class="s1">&#39;https://arkalos.com&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;article&#39;</span><span class="p">)</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">arkalos</span><span class="o">.</span><span class="n">crawl</span><span class="p">()</span>
</span></code></pre></div>
<p>This creates a folder at <code>data/drive/crawl/arkalos.com/</code> containing one Markdown file per page.</p>
<p><strong>WebExtractor parameters:</strong></p>
<ol>
<li><strong>Base URL</strong> – Starting page.</li>
<li><strong>Trailing slash flag</strong> – Set to <code>True</code> if URLs on the site end with a slash (e.g. <code>/docs/</code>).</li>
<li><strong>CSS selector for content</strong> – For example <code>main</code>, or a specific <code>.class</code> or <code>#id</code> where the content is located.</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Arkalos waits for the page and main content area to fully load before scraping.</p>
</div>
<p>Calling <code>crawl()</code> starts from the base page, discovers internal links, and saves every visited page as Markdown.</p>
<h2 id="scraping-specific-pages-only">🎯 Scraping Specific Pages Only</h2>
<p>You don’t always need the whole website. If you want to scrape specific pages, use:</p>
<div class="language-python highlight"><span class="filename">notebooks/web_extractor.ipynb</span><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">await</span> <span class="n">arkalos</span><span class="o">.</span><span class="n">crawlSpecificPages</span><span class="p">([</span><span class="s1">&#39;docs/installation&#39;</span><span class="p">])</span>
</span></code></pre></div>
<p>Pass a list of relative URLs. Arkalos will visit each and extract the content using the same content selector.</p>
<h2 id="extracting-specific-details-from-pages">🔍 Extracting Specific Details From Pages</h2>
<p>Want to extract things like titles, prices, tags, or ratings from multiple articles on a page? You can create your own structured extractor.</p>
<h3 id="step-1-define-what-data-to-extract">Step 1: Define what data to extract</h3>
<p>Here’s an example website that has this HTML:</p>
<div class="language-html highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="p">&lt;</span><span class="nt">article</span> <span class="na">data-id</span><span class="o">=</span><span class="s">&quot;6IF3WGP8V&quot;</span><span class="p">&gt;</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>  <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;...&quot;</span><span class="p">&gt;</span>Title of the article<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">data-item</span><span class="o">=</span><span class="s">&quot;description&quot;</span><span class="p">&gt;</span>Article text<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;rating&quot;</span><span class="p">&gt;</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    <span class="p">&lt;</span><span class="nt">img</span> <span class="err">...</span><span class="p">&gt;</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    5
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;tags&quot;</span><span class="p">&gt;</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">data-item</span><span class="o">=</span><span class="s">&quot;tag&quot;</span><span class="p">&gt;</span>Category A<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">data-item</span><span class="o">=</span><span class="s">&quot;tag&quot;</span><span class="p">&gt;</span>Category B<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>
</span></code></pre></div>
<h3 id="step-2-create-a-webdetails-class">Step 2: Create a <code>WebDetails</code> class</h3>
<div class="language-python highlight"><span class="filename">app/data/extractors/my_website_web_extractor.py</span><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">arkalos.data.extractors</span><span class="w"> </span><span class="kn">import</span> <span class="n">WebExtractor</span><span class="p">,</span> <span class="n">WebDetails</span><span class="p">,</span> <span class="n">_</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="nd">@dataclass</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="k">class</span><span class="w"> </span><span class="nc">ArticleDetails</span><span class="p">(</span><span class="n">WebDetails</span><span class="p">):</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>    <span class="n">CONTAINER</span> <span class="o">=</span> <span class="s1">&#39;article[data-id]&#39;</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>    <span class="nb">id</span><span class="p">:</span> <span class="n">_</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;data-id&#39;</span><span class="p">]</span>           <span class="c1"># Attribute from container</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>    <span class="n">url</span><span class="p">:</span> <span class="n">_</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;href&#39;</span><span class="p">]</span>              <span class="c1"># Link</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>    <span class="n">title</span><span class="p">:</span> <span class="n">_</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">]</span>                    <span class="c1"># Text from &lt;a&gt;</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>    <span class="n">description</span><span class="p">:</span> <span class="n">_</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s1">&#39;[data-item=&quot;description&quot;]&#39;</span><span class="p">]</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>    <span class="n">tags</span><span class="p">:</span> <span class="n">_</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="s1">&#39;[data-item=&quot;tag&quot;]&#39;</span><span class="p">]</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>    <span class="n">rating</span><span class="p">:</span> <span class="n">_</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="s1">&#39;.rating&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>          <span class="c1"># Second child (after image)</span>
</span></code></pre></div>
<p>The <code>_</code> is a special alias for <code>Annotated</code> to provide typing and selector info in one line.</p>
<h3 id="step-3-create-your-custom-extractor">Step 3: Create your custom extractor</h3>
<div class="language-python highlight"><span class="filename">app/data/extractors/my_website_web_extractor.py</span><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">MyWebsiteWebExtractor</span><span class="p">(</span><span class="n">WebExtractor</span><span class="p">):</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>    <span class="n">BASE_URL</span> <span class="o">=</span> <span class="s1">&#39;https://mywebsite.com&#39;</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    <span class="n">PAGE_CONTENT_SELECTOR</span> <span class="o">=</span> <span class="s1">&#39;main&#39;</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    <span class="n">SCROLL</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    <span class="n">DETAILS</span> <span class="o">=</span> <span class="n">ArticleDetails</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">crawlTechArticles</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">crawlSpecificDetails</span><span class="p">([</span><span class="s1">&#39;/category/tech&#39;</span><span class="p">])</span>
</span></code></pre></div>
<h3 id="step-4-run-your-crawler">Step 4: Run your crawler</h3>
<div class="language-python highlight"><span class="filename">notebooks/my_web_crawler.ipynb</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">app.data.extractors.my_website_web_extractor</span><span class="w"> </span><span class="kn">import</span> <span class="n">MyWebsiteWebExtractor</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="n">mywebsite</span> <span class="o">=</span> <span class="n">MyWebsiteWebExtractor</span><span class="p">()</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="n">data</span> <span class="o">=</span> <span class="k">await</span> <span class="n">mywebsite</span><span class="o">.</span><span class="n">crawlTechArticles</span><span class="p">()</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="n">df</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="n">df</span>
</span></code></pre></div>
<p>You can view the results directly in VS Code using the <strong>Data Wrangler</strong> extension.</p>
<h2 id="webdetails-and-annotations">🧩 WebDetails and Annotations</h2>
<p>To extract structured data from pages, you define a subclass of <code>WebDetails</code> and annotate each property using a custom annotation format. These annotations tell the scraper <strong>what</strong> to extract and <strong>how</strong>.</p>
<p>The annotation format is:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">_</span><span class="p">[</span><span class="n">data_type</span><span class="p">,</span> <span class="s1">&#39;CSS selector&#39;</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">optional_extraction_instruction</span><span class="p">]</span>
</span></code></pre></div>
<ul>
<li>
<p><code>data_type</code>: The expected Python type of the result. This can be:</p>
<ul>
<li><code>str</code>, <code>int</code>, <code>float</code></li>
<li><code>list[str]</code> — to extract multiple values as a list using <code>querySelectorAll()</code></li>
</ul>
</li>
<li>
<p><code>'CSS selector'</code>: A standard CSS selector string for locating the desired element inside the container. If set to <code>None</code>, the container itself will be used.</p>
</li>
<li>
<p><code>optional_extraction_instruction</code>: Tells how to extract the data. It could be:</p>
<ul>
<li>An attribute name (e.g. <code>'href'</code>)</li>
<li>A <code>slice</code>, like <code>1:</code> or <code>:3</code></li>
<li>A regular expression string with <strong>one capture group</strong></li>
<li>An integer — to get a specific child node (e.g. the second text node)</li>
</ul>
</li>
</ul>
<p><strong>Default Behavior:</strong></p>
<p>If you only provide the data type and a CSS selector — without any extras — the <strong>text content</strong> of the element is extracted using <code>.textContent</code>.</p>
<p>If the CSS selector doesn't match anything inside the container, the default value for the data type is returned (<code>""</code>, <code>0</code>, etc.).</p>
<p><strong>Supported Extraction Instructions (the 3rd argument)</strong></p>
<ol>
<li>
<p><strong>Attribute Name</strong><br />
   <div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">url</span><span class="p">:</span> <span class="n">_</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;href&#39;</span><span class="p">]</span>
</span></code></pre></div>
   Extracts the value of the <code>href</code> attribute from the <code>&lt;a&gt;</code> element.</p>
</li>
<li>
<p><strong>Slice</strong><br />
   <div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">price</span><span class="p">:</span> <span class="n">_</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="s1">&#39;.price&#39;</span><span class="p">,</span> <span class="s1">&#39;1:&#39;</span><span class="p">]</span>  <span class="c1"># Skips the currency symbol</span>
</span></code></pre></div>
   If <code>.price</code> contains text like <code>"$99"</code>, the slice will extract <code>"99"</code> and convert it to <code>int</code>.</p>
</li>
<li>
<p><strong>Regular Expression</strong><br />
   <div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">sku</span><span class="p">:</span> <span class="n">_</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="s1">&#39;.sku&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;ID-(\w</span><span class="si">{8}</span><span class="s1">)&#39;</span><span class="p">]</span>
</span></code></pre></div>
   Extracts matched group from a string like <code>"Product ID-ABC12345"</code>.</p>
</li>
<li>
<p><strong>Child Node Index</strong><br />
   <div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">rating</span><span class="p">:</span> <span class="n">_</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="s1">&#39;.rating&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</span></code></pre></div>
   Useful when the target number is inside a sibling text node, and you want to skip over images or other tags.</p>
</li>
</ol>
<p><strong>Lists with querySelectorAll()</strong></p>
<p>When the type is <code>list[str]</code>, <code>querySelectorAll()</code> is used instead of <code>querySelector()</code>, and all matched elements’ text contents are extracted into a list:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">tags</span><span class="p">:</span> <span class="n">_</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="s1">&#39;[data-item=&quot;tag&quot;]&#39;</span><span class="p">]</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="c1"># ⟶ [&#39;Category A&#39;, &#39;Category B&#39;]</span>
</span></code></pre></div>
<p><strong>If You Want to Extract from the Container Itself</strong></p>
<p>Set the selector to <code>None</code> and use an attribute name or other instruction:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nb">id</span><span class="p">:</span> <span class="n">_</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;data-id&#39;</span><span class="p">]</span>
</span></code></pre></div>
<h2 id="webextractor-constants">🧱 WebExtractor Constants</h2>
<p>Your custom WebExtractor can set these config values:</p>
<p>Required:</p>
<ul>
<li><code>BASE_URL</code>: Starting point for crawling</li>
<li><code>PAGE_CONTENT_SELECTOR</code>: The main content selector</li>
</ul>
<p>Optional:</p>
<ul>
<li><code>BROWSER_TYPE</code>: Choose browser type (default is <code>EDGE_HEADLESS</code>)</li>
<li><code>TRAIL_SLASH</code>: Add a trailing slash to URLs (default <code>False</code>)</li>
<li><code>WAIT_FOR_SELECTOR</code>: Wait for this selector to appear before scraping</li>
<li><code>CLICK_TEXT</code>: Auto-click this button (e.g. cookie popup) before scraping</li>
<li><code>SCROLL</code>: Scroll the page to load dynamic content (default <code>False</code>)</li>
</ul>
<p>For structured details:</p>
<ul>
<li><code>DETAILS</code>: Your custom <code>WebDetails</code> class; or</li>
<li><code>JSON_DETAILS</code>: or JS code to extract data from JSON blobs on the page</li>
</ul>
<h2 id="scraping-json-data-from-web-pages">📦 Scraping JSON Data From Web Pages</h2>
<p>Some websites store content as embedded JSON inside <code>&lt;script&gt;</code> tags.</p>
<p>You can extract it using JavaScript instead of HTML selectors:</p>
<div class="language-python highlight"><span class="filename">app/data/extractors/my_website_web_extractor.py</span><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">MyWebsiteWebExtractor</span><span class="p">(</span><span class="n">WebExtractor</span><span class="p">):</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>    <span class="n">BASE_URL</span> <span class="o">=</span> <span class="s1">&#39;https://mywebsite.com&#39;</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>    <span class="n">PAGE_CONTENT_SELECTOR</span> <span class="o">=</span> <span class="s1">&#39;main&#39;</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>    <span class="n">JSON_DETAILS</span> <span class="o">=</span> <span class="s1">&#39;JSON.stringify(JSON.parse(document.querySelector(&quot;script#__DATA__&quot;).textContent).props.articles)&#39;</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">crawlTechArticles</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>        <span class="k">return</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">crawlSpecificDetailsJSON</span><span class="p">([</span><span class="s1">&#39;/category/tech&#39;</span><span class="p">])</span>
</span></code></pre></div>
<p>Use <code>crawlSpecificDetailsJSON()</code> instead of <code>crawlSpecificDetails()</code> when using JSON extraction.</p>
<h2 id="get-raw-html-or-a-parsed-html-document">🧾 Get Raw HTML or a Parsed HTML Document</h2>
<p>Arkalos can fetch the raw HTML or a parsed document using <code>HTMLDocumentParser</code>.</p>
<div class="language-python highlight"><span class="filename">notebooks/crawl.ipynb</span><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="n">html</span> <span class="o">=</span> <span class="k">await</span> <span class="n">extractor</span><span class="o">.</span><span class="n">getPageHTML</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="n">doc</span> <span class="o">=</span> <span class="k">await</span> <span class="n">extractor</span><span class="o">.</span><span class="n">getPageHTMLDoc</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span></code></pre></div>
<p>The <code>doc</code> object has many useful properties:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">doc</span><span class="o">.</span><span class="n">url</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="n">doc</span><span class="o">.</span><span class="n">baseURL</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="n">doc</span><span class="o">.</span><span class="n">domain</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="n">doc</span><span class="o">.</span><span class="n">path</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="n">doc</span><span class="o">.</span><span class="n">charset</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="n">doc</span><span class="o">.</span><span class="n">title</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="n">doc</span><span class="o">.</span><span class="n">meta</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="n">doc</span><span class="o">.</span><span class="n">metaProps</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="n">doc</span><span class="o">.</span><span class="n">links</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="n">doc</span><span class="o">.</span><span class="n">pageLinks</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="n">doc</span><span class="o">.</span><span class="n">internalPageLinks</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="n">doc</span><span class="o">.</span><span class="n">externalPageLinks</span>
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="n">doc</span><span class="o">.</span><span class="n">cleanHTML</span>
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="n">doc</span><span class="o">.</span><span class="n">contentHTML</span>
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="n">doc</span><span class="o">.</span><span class="n">markdown</span>
</span></code></pre></div>
<p>You can import <code>HTMLDocumentParser</code> from:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">arkalos.utils.html_utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">HTMLDocumentParser</span>
</span></code></pre></div>
<p>It uses <strong>BeautifulSoup4</strong> (with <strong>lxml</strong>) and <strong>markdownify</strong> for conversion to clean Markdown.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../browser/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Python Browser Automation">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Python Browser Automation
              </div>
            </div>
          </a>
        
        
          
          <a href="../con-google/" class="md-footer__link md-footer__link--next" aria-label="Next: Google Drive, GA4, GSC">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Google Drive, GA4, GSC
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 Mev-Rael
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://x.com/mevrael" target="_blank" rel="noopener" title="x.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/arkaloscom/arkalos" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.expand", "content.code.copy", "navigation.footer", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f13b1293.min.js"></script>
      
        <script src="../../assets/js/extra.js"></script>
      
    
  </body>
</html>